<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Precio del Aceite de Oliva</title>
</head>
<body>
    <h1>ðŸ«’ Precios del Aceite de Oliva (Infaoliva)</h1>

    <p><strong>Ãšltima actualizaciÃ³n:</strong> <span id="fecha"></span></p>

    <div id="precios"></div>

    <script>
        async function cargarPrecios() {
            try {
                const response = await fetch('precio-aceite.json');
                const datos = await response.json();

                // Mostrar fecha
                const fecha = new Date(datos.ultima_actualizacion).toLocaleString('es-ES');
                document.getElementById('fecha').textContent = fecha;

                // Mostrar precios
                const preciosDiv = document.getElementById('precios');
                for (const tipo in datos.precios) {
                    const info = datos.precios[tipo];
                    const p = document.createElement('p');
                    p.textContent = `${tipo} (${info.variedad}): ${info.precio_eur_kg.toFixed(3)} â‚¬/kg`;
                    preciosDiv.appendChild(p);
                }

            } catch (error) {
                document.getElementById('precios').textContent = 'Error al cargar los precios.';
                console.error('Error:', error);
            }
        }

        cargarPrecios();
    </script>
</body>
</html>
